---
import I18nKey from "../i18n/i18nKey";
import { i18n } from "../i18n/translation";
import MainGridLayout from "../layouts/MainGridLayout.astro";
const title = i18n(I18nKey.navNews);
const description = "倾听世界之声……";
---

<MainGridLayout title={title} description={description}>
	<!-- 引入右侧边栏布局管理器 -->
	<script>
		import("../scripts/right-sidebar-layout.js");
	</script>
	<div
		class="flex w-full rounded-[var(--radius-large)] overflow-hidden relative min-h-32"
	>
		<div class="card-base z-10 px-9 py-6 relative w-full">
			<!-- 页面标题 -->
			<div class="flex flex-col items-start justify-center mb-8">
				<h1
					class="text-4xl font-bold text-black/90 dark:text-white/90 mb-2 relative
                          before:w-1 before:h-8 before:rounded-md before:bg-[var(--primary)]
                          before:absolute before:top-1/2 before:-translate-y-1/2 before:-left-4"
				>
					{title}
				</h1>
				<p class="text-neutral-600 dark:text-neutral-400">
					{description}
				</p>
			</div>
			<div class="iframe-wrapper">
				<iframe
					src="https://www.innoreader.com/stream/user/1003499415/tag/%E8%A7%82%E6%BE%9C%E3%80%8C%20Listen%20to%20the%20Tides%20of%20Time%20%E3%80%8D/view/html?t=%E3%80%8C%20Listen%20to%20the%20Tides%20of%20Time%20%E3%80%8D&lw=36&cs=m&lh=36&n=10&sb=y"
					class="news-iframe"></iframe>

				<div class="dark-overlay"></div>
			</div>

			<style>
				/* 1. 父容器：用来限制遮罩层的范围 */
				.iframe-wrapper {
					position: relative;
					width: 100%;
					height: 60rem;

					-webkit-mask-image: linear-gradient(
						to bottom,
						transparent 0%,
						black 5%,
						black 95%,
						transparent 100%
					);

					mask-image: linear-gradient(
						to bottom,
						transparent 0%,
						black 5%,
						black 95%,
						transparent 100%
					);
				}

				/* 2. iframe：撑满容器 */
				.news-iframe {
					width: 100%;
					height: 100%;
					border: none;
					filter: contrast(110%);
				}

				/* 3. 遮罩层 (墨镜)：盖在 iframe 上面 */
				.dark-overlay {
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;

					/* 浅色模式遮罩 */
					display: block;
					/* background-color: rgba(250, 240, 230, 0.4); */
					mix-blend-mode: multiply;
					/* 核心属性：鼠标穿透！ */
					pointer-events: none;
				}

				/* 4. 主题模式触发逻辑 */
				:global(.dark) .dark-overlay {
					display: block;
					/* 方案 A：普通变暗 (整个画面蒙上一层灰) */
					background-color: rgba(0, 0, 0, 0.2);
				}
			</style>
			<!-- <iframe
				style="height: 60rem; width: 100%;color-scheme: auto;"
				src="https://www.inoreader.com/stream/user/1003499415/tag/%E8%A7%82%E6%BE%9C%E3%80%8C%20Listen%20to%20the%20Tides%20of%20Time%20%E3%80%8D/view/html?t=%E3%80%8C%20Listen%20to%20the%20Tides%20of%20Time%20%E3%80%8D&sb=y"
				tabindex="-1"></iframe> -->
		</div>
	</div>
</MainGridLayout>
